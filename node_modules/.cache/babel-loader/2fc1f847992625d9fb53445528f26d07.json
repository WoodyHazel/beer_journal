{"ast":null,"code":"import _defineProperty from\"/Users/hannahtufts/beer_journal/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/hannahtufts/beer_journal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/hannahtufts/beer_journal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Brewery from\"./Brewery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Breweries(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),breweryData=_useState2[0],setBreweryData=_useState2[1];var _useState3=useState({searchType:\"\",searchQuery:\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),count=_useState6[0],setCount=_useState6[1];useEffect(function(){fetch(\"https://api.openbrewerydb.org/breweries?page=\".concat(Math.floor(Math.random()*400))).then(function(res){return res.json();}).then(function(data){return setBreweryData(data);});},[count]);var breweries=breweryData.map(function(item){return/*#__PURE__*/_jsx(Brewery,{items:item},item.id);});function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});}useEffect(function(){fetch(\"https://api.openbrewerydb.org/breweries?\".concat(formData.searchType,\"=\").concat(formData.searchQuery)).then(function(res){return res.json();}).then(function(data){return setBreweryData(data);});},[formData.searchQuery]);function handleSearch(e){e.preventDefault();}return/*#__PURE__*/_jsxs(\"div\",{className:\"breweries flex-col\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"m-1 fs-lg\",children:\"Breweries\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-col refresh\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Click below to see a new page of breweries\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setCount(function(prevCount){return prevCount+1;});},children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"or\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"breweries-form flex-col\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Search for breweries\"}),/*#__PURE__*/_jsx(\"input\",{id:\"by_name\",type:\"radio\",name:\"searchType\",value:\"by_name\",checked:formData.searchType===\"by_name\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"by_name\",children:\"By Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"by_city\",type:\"radio\",name:\"searchType\",value:\"by_city\",checked:formData.searchType===\"by_city\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"by_city\",children:\"By City\"}),/*#__PURE__*/_jsx(\"input\",{id:\"by_state\",type:\"radio\",name:\"searchType\",value:\"by_state\",checked:formData.searchType===\"by_state\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"by_state\",children:\"By State\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Start typing...\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"searchQuery\",id:\"searchQuery\",value:formData.searchQuery,onChange:handleInputChange})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"breweries-slider\",children:breweries})]});}","map":{"version":3,"sources":["/Users/hannahtufts/beer_journal/src/components/Breweries.js"],"names":["useEffect","useState","Brewery","Breweries","breweryData","setBreweryData","searchType","searchQuery","formData","setFormData","count","setCount","fetch","Math","floor","random","then","res","json","data","breweries","map","item","id","handleInputChange","e","target","name","value","prevData","handleSearch","preventDefault","prevCount"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport Brewery from \"./Brewery\";\n\nexport default function Breweries() {\n  const [breweryData, setBreweryData] = useState([]);\n\n  const [formData, setFormData] = useState({ searchType: \"\", searchQuery: \"\" });\n\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    fetch(\n      `https://api.openbrewerydb.org/breweries?page=${Math.floor(\n        Math.random() * 400\n      )}`\n    )\n      .then((res) => res.json())\n      .then((data) => setBreweryData(data));\n  }, [count]);\n\n  const breweries = breweryData.map((item) => {\n    return <Brewery key={item.id} items={item} />;\n  });\n\n  function handleInputChange(e) {\n    const { name, value } = e.target;\n\n    setFormData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  }\n\n  useEffect(() => {\n    fetch(\n      `https://api.openbrewerydb.org/breweries?${formData.searchType}=${formData.searchQuery}`\n    )\n      .then((res) => res.json())\n      .then((data) => setBreweryData(data));\n  }, [formData.searchQuery]);\n\n  function handleSearch(e) {\n    e.preventDefault();\n  }\n\n  return (\n    <div className=\"breweries flex-col\">\n      <h3 className=\"m-1 fs-lg\">Breweries</h3>\n      <div className=\"container\">\n        <div className=\"flex-col refresh\">\n          <p>Click below to see a new page of breweries</p>\n          <button onClick={() => setCount((prevCount) => prevCount + 1)}>\n            Refresh\n          </button>\n        </div>\n        <h3>or</h3>\n        <form className=\"breweries-form flex-col\" onSubmit={handleSearch}>\n          <fieldset>\n            <legend>Search for breweries</legend>\n            <input\n              id=\"by_name\"\n              type=\"radio\"\n              name=\"searchType\"\n              value=\"by_name\"\n              checked={formData.searchType === \"by_name\"}\n              onChange={handleInputChange}\n            />\n            <label htmlFor=\"by_name\">By Name</label>\n            <input\n              id=\"by_city\"\n              type=\"radio\"\n              name=\"searchType\"\n              value=\"by_city\"\n              checked={formData.searchType === \"by_city\"}\n              onChange={handleInputChange}\n            />\n            <label htmlFor=\"by_city\">By City</label>\n            <input\n              id=\"by_state\"\n              type=\"radio\"\n              name=\"searchType\"\n              value=\"by_state\"\n              checked={formData.searchType === \"by_state\"}\n              onChange={handleInputChange}\n            />\n            <label htmlFor=\"by_state\">By State</label>\n          </fieldset>\n          <div>\n            <label htmlFor=\"\">Start typing...</label>\n            <input\n              type=\"text\"\n              name=\"searchQuery\"\n              id=\"searchQuery\"\n              value={formData.searchQuery}\n              onChange={handleInputChange}\n            />\n          </div>\n        </form>\n      </div>\n\n      <div className=\"breweries-slider\">{breweries}</div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}